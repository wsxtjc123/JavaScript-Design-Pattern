<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>JavaScript设计模式</title>
	<script src="demo.js"></script>
</head>
<body>
<!-- 观察者模式
	<button id="addNewObserver">Add New Observer checkbox</button>
	<input type="checkbox" id="mainCheckbox">
	<div id="observersContainer"></div> -->
	<script>
/**
	// 观察者模式
	// 引用DOM元素
	var controlCheckbox = document.getElementById("mainCheckbox"),
		addBtn          = document.getElementById("addNewObserver"),
		container 		= document.getElementById("observersContainer");
	// 具体目标的Concrete Subject
	// 利用Subject扩展controlCheckbox
	extend(new Subject(),controlCheckbox);

	// 点击checkbox会触发通知到观察者上
	controlCheckbox.onclick = function(){
		controlCheckbox.Notify(this.checked);
	};

	// 点击按钮添加观察者checkbox
	addBtn.onclick = AddNewObserver;
	function AddNewObserver(){
		var check = document.createElement("input");
		check.type = "checkbox";

		// 利用Observer类扩展checkbox
		extend(new Observer(),check);

		// 重写自定义更新行为
		check.Update = function(value){
			this.checked = value;
		}

		// 为主subject的观察者列表添加新的观察者
		controlCheckbox.AddObserver(check);

		// 将观察者附件到容器上
		container.appendChild(check);
	}
 */


	</script>
</body>
</html>